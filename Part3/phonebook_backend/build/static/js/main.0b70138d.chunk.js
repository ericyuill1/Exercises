(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},36:function(e,n,t){},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),r=t(13),u=t.n(r),c=t(2),o=function(e){return l.a.createElement("div",null,l.a.createElement("p",null,"filter shown with ",l.a.createElement("input",{value:e.newFilter,onChange:e.handleFilterChange})))},i=function(e){return l.a.createElement("form",{onSubmit:e.addName},l.a.createElement("tr",null,l.a.createElement("td",null,"name: ",l.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),l.a.createElement("td",null,"number: ",l.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange}))),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"add")))},m=function(e){var n=e.message;return null===n?null:l.a.createElement("div",{className:"added"},n)},d=function(e){var n=e.message;return null===n?null:l.a.createElement("div",{className:"error"},n)},s=t(3),f=t.n(s),h="/api/persons",b=function(){return f.a.get(h)},E=function(e){return f.a.post(h,e)},g=function(e){return f.a.delete("".concat(h,"/").concat(e))},v=function(){window.location.reload(!1)},p=function(e){return""===e.newFilter?l.a.createElement("div",null,e.persons.map((function(e){return l.a.createElement(w,{key:e.id,note:e})}))):0===e.filteredList.length?l.a.createElement("div",null,"no items match your search"):l.a.createElement("div",null,e.filteredList.map((function(e){return l.a.createElement(w,{key:e.id,note:e})})))},w=function(e){var n=e.note;return l.a.createElement("div",null,l.a.createElement("tr",null,l.a.createElement("td",null,n.name),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){window.confirm("Delete "+n.name+"?")&&(console.log("to delete",n._id),g(n._id),b(),v())}},"delete"))),n.number,l.a.createElement("p",null))},j=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)(""),s=Object(c.a)(u,2),f=s[0],h=s[1],w=Object(a.useState)(""),j=Object(c.a)(w,2),O=j[0],N=j[1],C=Object(a.useState)(""),S=Object(c.a)(C,2),k=S[0],y=S[1],F=Object(a.useState)([]),L=Object(c.a)(F,2),_=L[0],T=L[1],q=Object(a.useState)(null),x=Object(c.a)(q,2),D=x[0],J=x[1],P=Object(a.useState)(null),A=Object(c.a)(P,2),B=A[0],I=A[1];Object(a.useEffect)((function(){b().then((function(e){r(e.data)}))}),[]);Object(a.useEffect)((function(){console.log("effect"),b().then((function(e){r(e.data)}))}),[]);return console.log("newFilter: ",k),l.a.createElement("div",null,l.a.createElement("h2",null,"Phonebook"),l.a.createElement(m,{message:D}),l.a.createElement(d,{message:B}),l.a.createElement(o,{newFilter:k,handleFilterChange:function(e){y(e.target.value);var n=t.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())}));T(n),console.log(n)}}),l.a.createElement(i,{addName:function(e){e.preventDefault();var n=function(e){return e.number==O},a={name:f,number:O,id:Math.max(t.id)+1};if(console.log(t),console.log(t.some(n)),t.some(n))return window.alert(O+" is already in use"),h(""),void N("");if(t.some((function(e){return e.name===f}))){var l=t.filter((function(e){return e.name.includes(f)}));if(console.log("match",l),console.log("match.id",l[0]._id),window.confirm(f+" is already added to the phonebook, replace the old number with the new one?")){var u={name:l[0].name,number:O,id:l[0]._id};console.log("replace",u),g(l[0]._id),E(u),J("Updating ".concat(a.name,"'s number")),setTimeout((function(){J(null),v()}),1e3)}}else E(a).then((function(e){r(t.concat(e.data)),h(""),N(""),J("Added '".concat(a.name,"'")),setTimeout((function(){J(null)}),5e3)})).catch((function(e){console.log(e),I("Person validation failed: required name length: >2, required number length: >7"),setTimeout((function(){I(null)}),5e3)}))},newName:f,handleNameChange:function(e){h(e.target.value)},newNumber:O,handleNumberChange:function(e){N(e.target.value)}}),l.a.createElement("h3",null,"Numbers"),l.a.createElement(p,{persons:t,newFilter:k,filteredList:_}))};t(36),t(37);u.a.render(l.a.createElement(j,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.0b70138d.chunk.js.map